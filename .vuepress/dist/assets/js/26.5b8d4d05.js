(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{185:function(t,a,s){"use strict";s.r(a);var n=s(6),e=Object(n.a)({},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"docker"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker","aria-hidden":"true"}},[t._v("#")]),t._v(" docker")]),t._v(" "),s("h3",{attrs:{id:"_1-dockeræ˜¯ä»€ä¹ˆ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-dockeræ˜¯ä»€ä¹ˆ","aria-hidden":"true"}},[t._v("#")]),t._v(" 1.dockeræ˜¯ä»€ä¹ˆ")]),t._v(" "),s("p",[t._v("è¦äº†è§£dockeré¦–å…ˆè¦çŸ¥é“Linuxçš„ä¸€ç§è™šæ‹ŸåŒ–æŠ€æœ¯ï¼š"),s("code",[t._v("Linux å®¹å™¨ï¼ˆLinux Containersï¼Œç¼©å†™ä¸º LXCï¼‰")]),t._v("ã€‚,Linux å®¹å™¨ä¸æ˜¯æ¨¡æ‹Ÿä¸€ä¸ªå®Œæ•´çš„æ“ä½œç³»ç»Ÿï¼Œè€Œæ˜¯å¯¹è¿›ç¨‹è¿›è¡Œéš”ç¦»ã€‚æˆ–è€…è¯´ï¼Œåœ¨æ­£å¸¸è¿›ç¨‹çš„å¤–é¢å¥—äº†ä¸€ä¸ªä¿æŠ¤å±‚ã€‚å¯¹äºå®¹å™¨é‡Œé¢çš„è¿›ç¨‹æ¥è¯´ï¼Œå®ƒæ¥è§¦åˆ°çš„å„ç§èµ„æºéƒ½æ˜¯è™šæ‹Ÿçš„ï¼Œä»è€Œå®ç°ä¸åº•å±‚ç³»ç»Ÿçš„éš”ç¦»ã€‚\n"),s("code",[t._v("dockerå±äº Linux å®¹å™¨çš„ä¸€ç§å°è£…ï¼Œæä¾›ç®€å•æ˜“ç”¨çš„å®¹å™¨ä½¿ç”¨æ¥å£")])]),t._v(" "),s("h3",{attrs:{id:"_2-image"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-image","aria-hidden":"true"}},[t._v("#")]),t._v(" 2.image")]),t._v(" "),s("p",[s("code",[t._v("image")]),t._v("å°±æ˜¯"),s("code",[t._v("Docker")]),t._v("çš„å®¹å™¨æ¨¡æ¿ï¼Œåªæœ‰é€šè¿‡"),s("code",[t._v("image")]),t._v("æ‰èƒ½ç”Ÿäº§"),s("code",[t._v("docker")]),t._v("å®¹å™¨ã€‚")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("\ndocker image "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ls")]),t._v(" //åˆ—å‡ºæœ¬æœºæ‰€æœ‰imageæ–‡ä»¶\n\ndocker image "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("imageName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" //åˆ é™¤image\n\n")])])]),s("h3",{attrs:{id:"_3-docker-run-ğŸŒ°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-docker-run-ğŸŒ°","aria-hidden":"true"}},[t._v("#")]),t._v(" 3.docker run ğŸŒ°")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("\ndocker pull nginx\n\ndocker run "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("p "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8080")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("d nginx "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// -pç«¯å£æ˜ å°„ï¼Œè®©dockerå®¹å™¨çš„80ç«¯å£æ˜ å°„åˆ°æœ¬åœ°8080ç«¯å£ï¼Œ-dæ˜¯å…è®¸ç¨‹åºç›´æ¥è¿”å›(å³æŠŠè¿™ä¸ªcontainerä½œä¸ºå®ˆæŠ¤è¿›ç¨‹æ‰§è¡Œ)  è®¿é—®locahost:8080å¯ä»¥çœ‹åˆ°nginxçš„é¦–é¡µ")]),t._v("\n\ndocker ps "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å¯ä»¥çœ‹åˆ°æ­£åœ¨è¿è¡Œçš„container")]),t._v("\ndocker ps "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("a "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å¯ä»¥çœ‹åˆ°æ‰€æœ‰çš„containerï¼ˆåŒ…æ‹¬å·²å…³é—­ï¼‰")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//äº‹å…ˆç¼–å†™ä¸€ä¸ªindex.html")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//docker cpç”¨ä¸åœ¨Hostå’Œcontaierä¹‹é—´æ‹·è´æ–‡ä»¶")]),t._v("\ndocker cp index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("html "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("790")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("d34f7885f")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("å®¹å™¨id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("share"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("nginx"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("html "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å†æ¬¡è®¿é—®locahost:8080å¯ä»¥çœ‹åˆ°index.htmlå·²ç»ä¿®æ”¹(cp=æ‹·è´)")]),t._v("\n\ndocker stop "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("790")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("d34f7885f")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("å®¹å™¨id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//åœæ­¢è¯¥containerçš„è¿è¡Œ")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//è¿™ä¸ªæ—¶å€™å†æ¬¡")]),t._v("\n\ndocker run "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("p "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8080")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("d nginx "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//ä¼šå‘ç°è¿˜æ˜¯Nginxçš„é¦–é¡µï¼Œå› ä¸ºdockeråœ¨å®¹å™¨å†…åšçš„æ”¹åŠ¨éƒ½æ˜¯æš‚æ—¶çš„ è¦æƒ³ä¿å­˜åŸæ¥çš„index.html å¯ä»¥å¦‚ä¸‹æ“ä½œ")]),t._v("\n\ndocker cp index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("html  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("198")]),t._v("f43ae56bf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("share"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("nginx"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("html  \ndocker commit "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("m "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("198")]),t._v("f43ae56bf nginx"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("test "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//äº‹å®ä¸Šä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„å«åšnginx-testçš„imgae")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//ä¸‹æ¬¡")]),t._v("\ndocker run "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("p "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8080")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("d nginx"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("test "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å³å¯ä»¥è®¿é—®ç¼–å†™çš„Index.html")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//åˆ é™¤Image")]),t._v("\ndocker rmi "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("ImageId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//åˆ é™¤container")]),t._v("\ndocker rm "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("ContainerId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n")])])]),s("h3",{attrs:{id:"_4-dockerfileæ–‡ä»¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-dockerfileæ–‡ä»¶","aria-hidden":"true"}},[t._v("#")]),t._v(" 4.Dockerfileæ–‡ä»¶")]),t._v(" "),s("p",[t._v("å…ˆç¼–å†™"),s("code",[t._v(".dockerignore")]),t._v("å¿½ç•¥ä¸€äº›ä¸éœ€è¦æ‰“åŒ…è¿›"),s("code",[t._v("image")]),t._v("çš„æ–‡ä»¶")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("\n.git\nnode_modules\nnpm-debug.log\n\n")])])]),s("p",[t._v("æ–°å»ºæ–‡ä»¶"),s("code",[t._v("Dockerfile")]),t._v(",ç¼–å†™")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("\nFROM node:8.4\nCOPY "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v(".")]),t._v(" /app\nWORKDIR /app\nRUN "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" --registry"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("https://registry.npm.taobao.org\nEXPOSE 3000\n\n")])])]),s("ul",[s("li",[t._v("FROM node:8.4ï¼šè¯¥ image æ–‡ä»¶ç»§æ‰¿å®˜æ–¹çš„ node imageï¼Œå†’å·è¡¨ç¤ºæ ‡ç­¾ï¼Œè¿™é‡Œæ ‡ç­¾æ˜¯8.4ï¼Œå³8.4ç‰ˆæœ¬çš„ nodeã€‚")]),t._v(" "),s("li",[t._v("COPY . /appï¼šå°†å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼ˆé™¤äº†.dockerignoreæ’é™¤çš„è·¯å¾„ï¼‰ï¼Œéƒ½æ‹·è´è¿›å…¥ image æ–‡ä»¶çš„/appç›®å½•ã€‚")]),t._v(" "),s("li",[t._v("WORKDIR /appï¼šæŒ‡å®šæ¥ä¸‹æ¥çš„å·¥ä½œè·¯å¾„ä¸º/appã€‚")]),t._v(" "),s("li",[t._v("RUN npm installï¼šåœ¨/appç›®å½•ä¸‹ï¼Œè¿è¡Œnpm installå‘½ä»¤å®‰è£…ä¾èµ–ã€‚æ³¨æ„ï¼Œå®‰è£…åæ‰€æœ‰çš„ä¾èµ–ï¼Œéƒ½å°†æ‰“åŒ…è¿›å…¥ image æ–‡ä»¶ã€‚")]),t._v(" "),s("li",[t._v("EXPOSE 3000ï¼šå°†å®¹å™¨ 3000 ç«¯å£æš´éœ²å‡ºæ¥ï¼Œ å…è®¸å¤–éƒ¨è¿æ¥è¿™ä¸ªç«¯å£ã€‚")])])])},[],!1,null,null,null);e.options.__file="useDocker.md";a.default=e.exports}}]);